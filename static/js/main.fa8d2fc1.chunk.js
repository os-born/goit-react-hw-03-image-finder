(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{100:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(4),c=t.n(o),l=t(5),s=t.n(l),i=t(25),u=t(11),m=t(12),d=t(13),g=t(15),h=t(14),p=t(38),b=t.n(p),j="https://pixabay.com/api/?q=",f="23162659-e31e220340403b8018b25f991",_=function(){var e=Object(u.a)(s.a.mark((function e(a){var t,r,n,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:1,e.prev=1,e.next=4,b.a.get("".concat(j).concat(a,"&page=").concat(t,"&key=").concat(f,"&image_type=photo&orientation=horizontal&per_page=12"));case 4:return r=e.sent,n=r.data,e.abrupt("return",n.hits);case 9:return e.prev=9,e.t0=e.catch(1),console.log("error",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}(),v=_,O=t(39),x=t.n(O),y=t(1);var S=function(e){var a=e.children;return Object(y.jsx)("div",{className:x.a.Container,children:a})},w=t(6),I=t.n(w);var L=function(e){var a=e.onHandleSubmit,t=e.onHandleChangeQuery,r=e.query;return Object(y.jsx)("header",{className:I.a.Searchbar,children:Object(y.jsxs)("form",{className:I.a.SearchForm,onSubmit:a,children:[Object(y.jsx)("button",{type:"submit",className:I.a.SearchForm_button,children:Object(y.jsx)("span",{className:I.a.SearchForm_button_label,children:"Search"})}),Object(y.jsx)("input",{className:I.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:t})]})})},M=t(21),k=t.n(M);var C=function(e){var a=e.webformatURL,t=e.largeImageURL,r=e.tags,n=e.onOpenModal;return Object(y.jsx)("li",{className:k.a.ImageGalleryItem,children:Object(y.jsx)("img",{className:k.a.ImageGalleryItem_image,src:a,alt:r,"data-source":t,onClick:n})})},N=t(40),F=t.n(N);var U=function(e){var a=e.images,t=e.onOpenModal;return Object(y.jsx)("ul",{className:F.a.ImageGallery,children:a.map((function(e){var a=e.id,r=e.webformatURL,n=e.largeImageURL,o=e.tags;return Object(y.jsx)(C,{webformatURL:r,largeImageURL:n,tags:o,onOpenModal:t},a)}))})},B=t(22),G=t.n(B);var R=function(e){var a=e.onLoadMore;return Object(y.jsx)("div",{className:G.a.Button_wrapper,children:Object(y.jsx)("button",{type:"button",className:G.a.Button,onClick:a,children:"Load more"})})},T=t(41),q=t.n(T),D=(t(88),t(42)),E=t.n(D);var W=function(){return Object(y.jsx)("div",{className:E.a.Overlay,children:Object(y.jsx)(q.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:100,timeout:1e3})})},H=t(23),J=t.n(H),K=function(e){Object(g.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).handleKeyDown=function(a){"Escape"===a.code&&e.props.onToggleModal()},e.handleBackdropClick=function(a){a.currentTarget===a.target&&e.props.onToggleModal()},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.largeImageURL;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:J.a.Overlay,onClick:this.handleBackdropClick,children:Object(y.jsx)("div",{className:J.a.Modal,children:Object(y.jsx)("img",{src:e,alt:""})})})})}}]),t}(r.Component),A=K,P=t.p+"static/media/oops.8fbb00d8.jpg",Q=t(24),z=t.n(Q);var V=function(e){var a=e.texterror;return Object(y.jsxs)("div",{role:"alert",className:z.a.Wrapper,children:[Object(y.jsx)("img",{src:P,width:"500",alt:"no_result"}),Object(y.jsx)("p",{text:a,className:z.a.Text,children:a})]})},X=t(26),Y=(t(89),t(43)),Z=(t(98),function(e){Object(g.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={query:"",images:[],page:1,isLoading:!1,largeImageURL:"",showModal:!1,error:null},e.handleChange=function(a){e.setState({query:a.target.value})},e.handleSubmit=function(a){a.preventDefault(),e.renderImages()},e.onLoadMore=function(){e.renderImages(),e.scroll()},e.renderImages=Object(u.a)(s.a.mark((function a(){var t,r,n,o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.state,r=t.query,n=t.page,r.trim()){a.next=3;break}return a.abrupt("return",X.b.info("Please enter a value for search images!"));case 3:return e.toggleLoader(),a.prev=4,a.next=7,v(r,n);case 7:o=a.sent,e.setState((function(e){var a=e.images,t=e.page;return{images:[].concat(Object(i.a)(a),Object(i.a)(o)),page:t+1}})),0===o.length&&e.setState({error:"No results found for ".concat(r,"!")}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(4),e.setState({error:"Something wrong. Try again."});case 15:return a.prev=15,e.toggleLoader(),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[4,12,15,18]])}))),e.onOpenModal=function(a){e.setState({largeImageURL:a.target.dataset.source}),e.toggleModal()},e.toggleLoader=function(){e.setState((function(e){return{isLoading:!e.isLoading}}))},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.scroll=function(){Y.animateScroll.scrollToBottom()},e}return Object(d.a)(t,[{key:"componentDidUpdate",value:function(e,a){a.query!==this.state.query&&this.setState({images:[],page:1,error:null})}},{key:"render",value:function(){var e=this.state,a=e.query,t=e.images,r=e.largeImageURL,n=e.isLoading,o=e.showModal,c=e.error;return Object(y.jsxs)(S,{children:[Object(y.jsx)(L,{onHandleSubmit:this.handleSubmit,onHandleChangeQuery:this.handleChange,query:a}),c&&Object(y.jsx)(V,{texterror:c}),n&&Object(y.jsx)(W,{}),t.length>0&&!c&&Object(y.jsx)(U,{images:t,onOpenModal:this.onOpenModal}),!n&&t.length>0&&!c&&Object(y.jsx)(R,{onLoadMore:this.onLoadMore}),o&&Object(y.jsx)(A,{onToggleModal:this.toggleModal,largeImageURL:r}),Object(y.jsx)(X.a,{})]})}}]),t}(r.Component)),$=Z;t(99);c.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)($,{})}),document.getElementById("root"))},21:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1hsx2",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__9cE15"}},22:function(e,a,t){e.exports={Button_wrapper:"Button_Button_wrapper__1Fxb7",Button:"Button_Button__W6SH5"}},23:function(e,a,t){e.exports={Overlay:"Modal_Overlay__BUkWl",Modal:"Modal_Modal__2wrJG"}},24:function(e,a,t){e.exports={Wrapper:"Error_Wrapper__1rqm4",Text:"Error_Text__1rtS5"}},39:function(e,a,t){e.exports={Container:"Container_Container__1FOSy"}},40:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__2TlXO"}},42:function(e,a,t){e.exports={Overlay:"Loader_Overlay__H2PEh"}},6:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__2UFLk",SearchForm:"Searchbar_SearchForm__3ecfh",SearchForm_button:"Searchbar_SearchForm_button__1BD5i",SearchForm_button_label:"Searchbar_SearchForm_button_label__CVg9W",SearchForm_input:"Searchbar_SearchForm_input__J9NpI"}},98:function(e,a,t){},99:function(e,a,t){}},[[100,1,2]]]);
//# sourceMappingURL=main.fa8d2fc1.chunk.js.map